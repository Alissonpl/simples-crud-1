{"ast":null,"code":"var _jsxFileName = \"/home/alisson/Documentos/www/product/frontend/src/pages/Product/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { FiPower, FiTrash2 } from 'react-icons/fi';\nimport api from '../../services/api';\nimport './styles.css';\nexport default function Profile() {\n  const ongId = localStorage.getItem('ongId');\n  const [incidents, setIncidents] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    api.get('profile', {\n      headers: {\n        authorization: ongId\n      }\n    }).then(response => {\n      setIncidents(response.data);\n    });\n  }, [ongId]);\n\n  async function handleDeleteIncident(id) {\n    try {\n      await api.delete(`incidents/${id}`, {\n        headers: {\n          Authorization: ongId\n        }\n      });\n      setIncidents(incidents.filter(incident => incident.id != id));\n    } catch (err) {\n      alert('Erro ao deletar caso, tente novamente.');\n    }\n  }\n\n  function handleLogout() {\n    localStorage.clear();\n    history.push('/');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Casos cadastrados\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, product.map(product => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 37\n    }\n  }, \"CASO:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 37\n    }\n  }, product.title), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 37\n    }\n  }, \"DESCRI\\xC7\\xC3O:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 37\n    }\n  }, product.description), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }, \"VALOR:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  }, Intl.NumberFormat('pt-BR', {\n    style: 'currency',\n    currency: 'BRL'\n  }).format(product.value)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDeleteIncident(product.id),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(FiTrash2, {\n    size: 20,\n    color: \"#a8a8b3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 41\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/alisson/Documentos/www/product/frontend/src/pages/Product/index.js"],"names":["React","useState","useEffect","Link","useHistory","FiPower","FiTrash2","api","Profile","ongId","localStorage","getItem","incidents","setIncidents","history","get","headers","authorization","then","response","data","handleDeleteIncident","id","delete","Authorization","filter","incident","err","alert","handleLogout","clear","push","product","map","title","description","Intl","NumberFormat","style","currency","format","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport {FiPower, FiTrash2 } from 'react-icons/fi';\n\nimport api from '../../services/api';\n\nimport './styles.css';\n\nexport default function Profile(){\n    const ongId = localStorage.getItem('ongId');\n    const [incidents, setIncidents]= useState([]);\n    const history = useHistory();\n    useEffect(()=>{\n        api.get('profile', {\n        headers:{\n            authorization: ongId,\n        }\n        }).then(response =>{\n            setIncidents(response.data);\n        })\n    }, [ongId]);\n\n    async function handleDeleteIncident(id) {\n        try{\n            await api.delete(`incidents/${id}`, {\n                headers: {\n                    Authorization: ongId,\n                }\n            });\n          \n            setIncidents(incidents.filter(incident=> incident.id != id ));\n        }catch(err){\n            alert('Erro ao deletar caso, tente novamente.');\n        }\n    }    \n\n\nfunction handleLogout(){\n    localStorage.clear();\n    history.push('/');\n}\n\n    return (\n        <div className=\"profile-container\">\n\n            <h1>Casos cadastrados</h1>\n            <ul>\n                {product.map(product => (\n                                    <li>\n                                    <strong>CASO:</strong>\n                                    <p>{product.title}</p>\n                \n                                    <strong>DESCRIÇÃO:</strong>\n                                    <p>{product.description}</p>\n                \n                                    <strong>VALOR:</strong>\n                                    <p>{Intl.NumberFormat('pt-BR', {style:'currency', currency: 'BRL'}).format(product.value)}</p>\n                \n                                    <button onClick={()=> handleDeleteIncident(product.id)} type=\"button\">\n                                        <FiTrash2 size={20} color=\"#a8a8b3\"/>\n                                    </button>\n                \n                                </li>\n\n                 ))}\n\n            </ul>\n\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}